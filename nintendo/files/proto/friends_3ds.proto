
struct MyProfile {
	uint8 region;
	uint8 country;
	uint8 area;
	uint8 language;
	uint8 platform;
	uint64 unk1;
	string unk2;
	string unk3;
}

struct Mii {
	string unk1;
	bool unk2;
	uint8 unk3;
	buffer mii_data;
}

struct MiiList {
	string unk1;
	bool unk2;
	uint8 unk3;
	list<buffer> mii_datas;
}

struct PlayedGame {
	GameKey game_key;
	datetime datetime;
}

struct GameKey : Data {
	uint64 title_id = 0;
	uint16 title_version = 0;
}

struct FriendMiiRequest {
	uint32 unk1;
	datetime unk2;
}

struct FriendMii {
	uint32 unk1;
	Mii mii;
	datetime unk2;
}

struct FriendMiiList {
	uint32 unk1;
	MiiList mii;
	datetime unk2;
}

struct FriendRelationship {
	uint32 unk1;
	uint64 unk2;
	uint8 unk3;
}

struct NintendoPresence {
	uint32 changed_bit_flag;
	GameKey game_key;
	string game_mode_description;
	uint32 join_availability_flag;
	uint8 matchmake_system_type;
	uint32 join_game_id;
	uint32 join_game_mode;
	pid owner_pid;
	uint32 join_group_id;
	buffer application_data;
}

struct FriendPresence {
	uint32 unk;
	NintendoPresence presence;
}

struct FriendPicture {
	uint32 unk;
	buffer data;
	datetime datetime;
}

struct FriendPersistentInfo {
	pid pid;
	uint8 region;
	uint8 country;
	uint8 area;
	uint8 language;
	uint8 platform;
	GameKey game_key;
	string message;
	datetime message_updated;
	datetime friended;
	datetime unk;
}

protocol Friends_V1 : 101 {
	method(1) update_profile(MyProfile profile_data) {}

	method(2) update_mii(Mii mii) {}

	method(3) update_mii_list(MiiList mii_list) {}

	method(4) update_played_games(list<PlayedGame> played_games) {}

	method(5) update_preference(bool unk1, bool unk2, bool unk3) {}

	method(6) get_friend_mii(list<FriendMiiRequest> friends) {
		list<FriendMii> miis;
	}

	method(7) get_friend_mii_list(list<FriendMiiRequest> friends) {
		list<FriendMiiList> mii_lists;
	}

	method(10) get_friend_relationships(list<uint32> unk) {
		list<FriendRelationship> friend_relationships;
	}

	method(11) add_friend_by_principal_id(uint64 unk, uint32 pid) {
		FriendRelationship friend_relationship;
	}

	method(15) get_all_friends() {
		list<FriendRelationship> friend_relationships;
	}

	method(17) sync_friend(uint64 unk1, list<uint32> unk2, list<uint64> unk3) {
		list<FriendRelationship> friend_list;
	}

	method(18) update_presence(NintendoPresence presence_info, bool unk) {}

	method(19) update_favorite_game_key(GameKey game_key) {}

	method(20) update_comment(string comment) {}

	method(22) get_friend_presence(list<uint32> unk) {
		list<FriendPresence> friend_presence_list;
	}

	method(24) get_friend_picture(list<uint32> unk) {
		list<FriendPicture> friend_pictures;
	}

	method(25) get_friend_persistent_info(list<uint32> unk) {
		list<FriendPersistentInfo> persistent_infos;
	}

	method(26) send_invitation(list<uint32> unk) {}
}